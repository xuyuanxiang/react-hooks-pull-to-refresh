(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Indicator}));__webpack_require__(1),__webpack_require__(10),__webpack_require__(4),__webpack_require__(3);var react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__),styled_components__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(151);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var IndicatorAnimation=Object(styled_components__WEBPACK_IMPORTED_MODULE_5__.b)(["8.333333333333332%{transform:rotate(30deg);}16.666666666666664%{transform:rotate(60deg);}25%{transform:rotate(90deg);}33.33333333333333%{transform:rotate(120deg);}41.666666666666664%{transform:rotate(150deg);}50%{transform:rotate(180deg);}58.33333333333333%{transform:rotate(210deg);}66.66666666666666%{transform:rotate(240deg);}75%{transform:rotate(270deg);}83.33333333333333%{transform:rotate(300deg);}91.66666666666666%{transform:rotate(330deg);}to{transform:rotate(1turn);}"]),StyledIndicator=styled_components__WEBPACK_IMPORTED_MODULE_5__.a.span.withConfig({displayName:"Indicator__StyledIndicator",componentId:"fjnyd8-0"})(["display:inline-block;transform-origin:50%;animation:"," 1s step-end infinite;width:","px;height:","px;background-position:50%;background-size:100%;background-repeat:no-repeat;",";"],IndicatorAnimation,(function(props){return props.size}),(function(props){return props.size}),(function(props){return'background-image: url("data:image/svg+xml;charset=utf-8,'.concat(encodeURIComponent('<svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><line id="l" x1="60" x2="60" y1="7" y2="27" stroke="'.concat(props.color,'" stroke-width="11" stroke-linecap="round"/></defs><g><use xlink:href="#l" opacity=".27"/><use xlink:href="#l" opacity=".27" transform="rotate(30 60,60)"/><use xlink:href="#l" opacity=".27" transform="rotate(60 60,60)"/><use xlink:href="#l" opacity=".27" transform="rotate(90 60,60)"/><use xlink:href="#l" opacity=".27" transform="rotate(120 60,60)"/><use xlink:href="#l" opacity=".27" transform="rotate(150 60,60)"/><use xlink:href="#l" opacity=".37" transform="rotate(180 60,60)"/><use xlink:href="#l" opacity=".46" transform="rotate(210 60,60)"/><use xlink:href="#l" opacity=".56" transform="rotate(240 60,60)"/><use xlink:href="#l" opacity=".66" transform="rotate(270 60,60)"/><use xlink:href="#l" opacity=".75" transform="rotate(300 60,60)"/><use xlink:href="#l" opacity=".85" transform="rotate(330 60,60)"/></g></svg>')),'")')}));function Indicator(_ref){var _ref$color=_ref.color,color=void 0===_ref$color?"#9b9b9b":_ref$color,_ref$size=_ref.size,size=void 0===_ref$size?32:_ref$size,rest=_objectWithoutProperties(_ref,["color","size"]);return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(StyledIndicator,_extends({color:color,size:size},rest))}try{Indicator.displayName="Indicator",Indicator.__docgenInfo={description:"",displayName:"Indicator",props:{color:{defaultValue:{value:"#9b9b9b"},description:"CSS colors.",name:"color",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},size:{defaultValue:{value:32},description:"The width and height value in pixels.",name:"size",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Indicator.tsx#Indicator"]={docgenInfo:Indicator.__docgenInfo,name:"Indicator",path:"src/Indicator.tsx#Indicator"})}catch(__react_docgen_typescript_loader_error){}},1269:function(module,exports,__webpack_require__){var map={"./Changelog.stories.mdx":1270,"./Usage.stories.mdx":1271};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1269},1270:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(1),__webpack_require__(42),__webpack_require__(35),__webpack_require__(10),__webpack_require__(4),__webpack_require__(163),__webpack_require__(164),__webpack_require__(3),__webpack_require__(38),__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(60);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_11__.Meta,{title:"Basic|Changelog",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("h1",null,"1.0.0 (2020-03-24)"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("h3",null,"Features"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("li",{parentName:"ul"},"Provide React Hooks: usePullToRefresh (",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("a",_extends({parentName:"li"},{href:"https://github.com/xuyuanxiang/react-hooks-pull-to-refresh/commit/0a7102b976715729c4bfe0c3f275b6a7f4dddd3b"}),"0a7102b"),")")))}MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.story={parameters:{docsOnly:!0}};var componentMeta={title:"Basic|Changelog",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_11__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},1271:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(1),__webpack_require__(42),__webpack_require__(35),__webpack_require__(10),__webpack_require__(4),__webpack_require__(163),__webpack_require__(164),__webpack_require__(3),__webpack_require__(38),__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(60);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_11__.Meta,{title:"Basic|Usage",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("h1",null,"Usage"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("code",_extends({parentName:"pre"},{className:"language-typescript",metastring:"jsx",jsx:!0}),"import React, { useState } from 'react';\nimport { usePullToRefresh } from 'react-hooks-pull-to-refresh';\n\nfunction MyComponent() {\n  const [dataSource, setDataSource] = useState<string[]>(['item1', 'item2']);\n\n  const onRefresh = async (): Promise<void> => {\n    const res = await fetch('/api/to/something');\n    if (res.ok) {\n      const { data } = await res.json();\n      setDataSource(data);\n    }\n  };\n\n  const options = {}; // see the table below.\n  const ref = usePullToRefresh(onRefresh, options);\n\n  return (\n    <div ref={ref} style={{ background: '#ffffff', paddingLeft: 16 }}>\n        {dataSource.map((it, idx) => (\n          <p key={`item_${idx}`} style={{ height: 44, lineHeight: 44, borderBottom: '1px solid #dcdcdc' }}>\n            {it}\n          </p>\n        ))}\n    </div>\n  );\n}\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("p",null,"Options:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("table",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("thead",{parentName:"table"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("tr",{parentName:"thead"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("th",_extends({parentName:"tr"},{align:"left"}),"Name"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("th",_extends({parentName:"tr"},{align:"left"}),"Description"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("th",_extends({parentName:"tr"},{align:"left"}),"Default"))),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("tbody",{parentName:"table"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("tr",{parentName:"tbody"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("td",_extends({parentName:"tr"},{align:"left"}),"threshold"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("td",_extends({parentName:"tr"},{align:"left"}),"Threshold in pixels for calling onRefresh. The content view have been pulled to within threshold of the bottom."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("td",_extends({parentName:"tr"},{align:"left"}),"50")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("tr",{parentName:"tbody"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("td",_extends({parentName:"tr"},{align:"left"}),"throttle"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("td",_extends({parentName:"tr"},{align:"left"}),"This controls how often the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("inlineCode",{parentName:"td"},"touchmove")," event will be handledÔºàas a time interval in msÔºâ. A lower number yields better accuracy for code that is tracking the touchmove position, but can lead to performance problems."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("td",_extends({parentName:"tr"},{align:"left"}),"150")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("tr",{parentName:"tbody"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("td",_extends({parentName:"tr"},{align:"left"}),"refreshControl"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("td",_extends({parentName:"tr"},{align:"left"}),"A RefreshControl component, used to provide pull-to-refresh rendering functionality."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)("td",_extends({parentName:"tr"},{align:"left"}),"RefreshControl")))))}MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.story={parameters:{docsOnly:!0}};var componentMeta={title:"Basic|Usage",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_11__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.mdx)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},1272:function(module,exports,__webpack_require__){var map={"./Indicator.stories.tsx":1273,"./RefreshControl.custom.stories.tsx":1276,"./RefreshControl.default.stories.tsx":1277,"./usePullToRefresh.stories.tsx":1278};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1272},1273:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(59),_src__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(117),withSourceLoader=__webpack_require__(91).withSource,__STORY__=(__webpack_require__(91).addSource,"import React from 'react';\nimport { storiesOf } from '@storybook/react';\nimport { Indicator } from '../src';\n\nstoriesOf('Components|Indicator', module)\n  .addParameters({ component: Indicator })\n  .add('Default', function App(): JSX.Element {\n    return <Indicator />;\n  })\n  .add('Custom Color', function App(): JSX.Element {\n    return <Indicator color=\"green\" />;\n  })\n  .add('Custom Size', function App(): JSX.Element {\n    return <Indicator size={44} />;\n  });\n"),__ADDS_MAP__={"components-indicator--custom-size":{startLoc:{col:7,line:13},endLoc:{col:3,line:15},startBody:{col:22,line:13},endBody:{col:3,line:15}},"components-indicator--custom-color":{startLoc:{col:7,line:10},endLoc:{col:3,line:12},startBody:{col:23,line:10},endBody:{col:3,line:12}},"components-indicator--default":{startLoc:{col:7,line:7},endLoc:{col:3,line:9},startBody:{col:18,line:7},endBody:{col:3,line:9}}};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Components|Indicator",module).addParameters({storySource:{source:__STORY__,locationsMap:__ADDS_MAP__}}).addDecorator(withSourceLoader(__STORY__,__ADDS_MAP__,"/Indicator.stories.tsx",[],{},"/home/travis/build/xuyuanxiang/react-hooks-pull-to-refresh/stories",{})).addParameters({component:_src__WEBPACK_IMPORTED_MODULE_2__.a}).add("Default",(function App(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.a,null)})).add("Custom Color",(function App(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.a,{color:"green"})})).add("Custom Size",(function App(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.a,{size:44})}))}.call(this,__webpack_require__(128)(module))},1276:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(59),_src__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(69),_src__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(46),_src__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),withSourceLoader=__webpack_require__(91).withSource,__STORY__=(__webpack_require__(91).addSource,"import React from 'react';\nimport { storiesOf } from '@storybook/react';\nimport { RefreshControl, RefreshState, RefreshControlProvider, RefreshControlConsumer } from '../src';\n\nstoriesOf('Components|RefreshControl/Custom', module)\n  .addParameters({ component: RefreshControl })\n  .add('Custom Hint', function App(): JSX.Element {\n    return (\n      <RefreshControlProvider value={{ state: RefreshState.DID_MOUNT }}>\n        <RefreshControl hint={<p>üëáPull to refresh</p>} />\n      </RefreshControlProvider>\n    );\n  })\n  .add('Custom Edge', function App(): JSX.Element {\n    return (\n      <RefreshControlProvider value={{ state: RefreshState.WILL_REFRESH }}>\n        <RefreshControl edge={<p>Release for refreshing</p>} />\n      </RefreshControlProvider>\n    );\n  })\n  .add('Custom Indicator', function App(): JSX.Element {\n    return (\n      <RefreshControlProvider value={{ state: RefreshState.REFRESHING }}>\n        <RefreshControl indicator=\"Loading...\" />\n      </RefreshControlProvider>\n    );\n  })\n  .add('Custom Wrapper', function App(): JSX.Element {\n    return (\n      <RefreshControlProvider value={{ state: RefreshState.REFRESHING }}>\n        <RefreshControlConsumer>\n          {({ state }) => {\n            if (state === RefreshState.REFRESHING) {\n              return (\n                <div>\n                  <button>Loading</button>\n                </div>\n              );\n            }\n          }}\n        </RefreshControlConsumer>\n      </RefreshControlProvider>\n    );\n  });\n"),__ADDS_MAP__={"components-refreshcontrol-custom--custom-wrapper":{startLoc:{col:7,line:28},endLoc:{col:3,line:44},startBody:{col:25,line:28},endBody:{col:3,line:44}},"components-refreshcontrol-custom--custom-indicator":{startLoc:{col:7,line:21},endLoc:{col:3,line:27},startBody:{col:27,line:21},endBody:{col:3,line:27}},"components-refreshcontrol-custom--custom-edge":{startLoc:{col:7,line:14},endLoc:{col:3,line:20},startBody:{col:22,line:14},endBody:{col:3,line:20}},"components-refreshcontrol-custom--custom-hint":{startLoc:{col:7,line:7},endLoc:{col:3,line:13},startBody:{col:22,line:7},endBody:{col:3,line:13}}};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Components|RefreshControl/Custom",module).addParameters({storySource:{source:__STORY__,locationsMap:__ADDS_MAP__}}).addDecorator(withSourceLoader(__STORY__,__ADDS_MAP__,"/RefreshControl.custom.stories.tsx",[],{},"/home/travis/build/xuyuanxiang/react-hooks-pull-to-refresh/stories",{})).addParameters({component:_src__WEBPACK_IMPORTED_MODULE_2__.a}).add("Custom Hint",(function App(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.b,{value:{state:_src__WEBPACK_IMPORTED_MODULE_4__.a.DID_MOUNT}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.a,{hint:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"üëáPull to refresh")}))})).add("Custom Edge",(function App(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.b,{value:{state:_src__WEBPACK_IMPORTED_MODULE_4__.a.WILL_REFRESH}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.a,{edge:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"Release for refreshing")}))})).add("Custom Indicator",(function App(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.b,{value:{state:_src__WEBPACK_IMPORTED_MODULE_4__.a.REFRESHING}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.a,{indicator:"Loading..."}))})).add("Custom Wrapper",(function App(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.b,{value:{state:_src__WEBPACK_IMPORTED_MODULE_4__.a.REFRESHING}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.a,null,(function(_ref){if(_ref.state===_src__WEBPACK_IMPORTED_MODULE_4__.a.REFRESHING)return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",null,"Loading"))})))}))}.call(this,__webpack_require__(128)(module))},1277:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(59),_src__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(69),_src__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(46),_src__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),withSourceLoader=__webpack_require__(91).withSource,__STORY__=(__webpack_require__(91).addSource,"import React from 'react';\nimport { storiesOf } from '@storybook/react';\nimport { RefreshControl, RefreshState, RefreshControlProvider } from '../src';\n\nstoriesOf('Components|RefreshControl/Default', module)\n  .addParameters({ component: RefreshControl })\n  .add('Hint', function App(): JSX.Element {\n    return (\n      <RefreshControlProvider value={{ state: RefreshState.DID_MOUNT }}>\n        <RefreshControl />\n      </RefreshControlProvider>\n    );\n  })\n  .add('Edge', function App(): JSX.Element {\n    return (\n      <RefreshControlProvider value={{ state: RefreshState.WILL_REFRESH }}>\n        <RefreshControl />\n      </RefreshControlProvider>\n    );\n  })\n  .add('Indicator', function App(): JSX.Element {\n    return (\n      <RefreshControlProvider value={{ state: RefreshState.REFRESHING }}>\n        <RefreshControl />\n      </RefreshControlProvider>\n    );\n  });\n"),__ADDS_MAP__={"components-refreshcontrol-default--indicator":{startLoc:{col:7,line:21},endLoc:{col:3,line:27},startBody:{col:20,line:21},endBody:{col:3,line:27}},"components-refreshcontrol-default--edge":{startLoc:{col:7,line:14},endLoc:{col:3,line:20},startBody:{col:15,line:14},endBody:{col:3,line:20}},"components-refreshcontrol-default--hint":{startLoc:{col:7,line:7},endLoc:{col:3,line:13},startBody:{col:15,line:7},endBody:{col:3,line:13}}};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Components|RefreshControl/Default",module).addParameters({storySource:{source:__STORY__,locationsMap:__ADDS_MAP__}}).addDecorator(withSourceLoader(__STORY__,__ADDS_MAP__,"/RefreshControl.default.stories.tsx",[],{},"/home/travis/build/xuyuanxiang/react-hooks-pull-to-refresh/stories",{})).addParameters({component:_src__WEBPACK_IMPORTED_MODULE_2__.a}).add("Hint",(function App(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.b,{value:{state:_src__WEBPACK_IMPORTED_MODULE_4__.a.DID_MOUNT}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.a,null))})).add("Edge",(function App(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.b,{value:{state:_src__WEBPACK_IMPORTED_MODULE_4__.a.WILL_REFRESH}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.a,null))})).add("Indicator",(function App(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.b,{value:{state:_src__WEBPACK_IMPORTED_MODULE_4__.a.REFRESHING}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.a,null))}))}.call(this,__webpack_require__(128)(module))},1278:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(1),__webpack_require__(12),__webpack_require__(27),__webpack_require__(75),__webpack_require__(17),__webpack_require__(11),__webpack_require__(44),__webpack_require__(18),__webpack_require__(16),__webpack_require__(134),__webpack_require__(39),__webpack_require__(19),__webpack_require__(21),__webpack_require__(140);var react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_14__),_storybook_react__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(59),_src__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(1284);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var withSourceLoader=__webpack_require__(91).withSource,__STORY__=(__webpack_require__(91).addSource,"import React, { useState } from 'react';\nimport { storiesOf } from '@storybook/react';\nimport { usePullToRefresh } from '../src';\n\nstoriesOf('Hooks|usePullToRefresh', module).add('Demo', function App(): JSX.Element {\n  const DATA = [\n    'Èõ∑Êù∞',\n    'ÈªÑÂàö',\n    'ËñõÊ∂õ',\n    'ÈôàÂãá',\n    'ÂßöÊòé',\n    'ÈÉëÂãá',\n    'Êà¥Â®ú',\n    'ËêßÂãá',\n    'Á®ãÊ∂õ',\n    'ÂæêÂπ≥',\n    'Ë¥∫ÁßÄËã±',\n    'Â§èÊòé',\n    'ÈÇµÊ∂õ',\n    'ÁÜäÁßÄÂÖ∞',\n    'È≠èÁ£ä',\n    '‰æØÁßÄËã±',\n    'Êù®Ëä≥',\n    'ËñõÊù∞',\n    'ÂæêÊòé',\n    'ÊõæÊù∞',\n    'ÂæêÊ∂õ',\n    'Â∫∑Âº∫',\n    'Èôà‰∏Ω',\n    '‰ΩïËä≥',\n    'ÂªñÈùô',\n    'Ë∞≠Ë∂Ö',\n    'Ê±™Ê∂õ',\n    'ÈÇµÊù∞',\n    'Â¥î‰∏Ω',\n    '‰∫éÊïè',\n    'Èü©Èúû',\n    '‰Ωï‰ºü',\n    'Âê¥Âπ≥',\n    'Ë¥æÂãá',\n    'ÁôΩÊòé',\n    'ËñõËâ≥',\n    'Â§èÊ°ÇËã±',\n    'Áî∞‰∏Ω',\n    'Â∞πÊù∞',\n    '‰πîÂÜõ',\n    'ËµñÊòé',\n    'ËµñÂ®ú',\n    'ÂÆãÊïè',\n    '‰ªªÂº∫',\n    '‰∏áÂº∫',\n    'ËµµÁßÄËã±',\n    'ËÆ∏‰∏Ω',\n    '‰πîÈùô',\n    'Èí±‰ºü',\n    'ÈôàËä≥',\n    'ÈÉ≠Âº∫',\n    'È©¨Á£ä',\n    'Âç¢Ëâ≥',\n    'ÂÇÖÁßÄÂÖ∞',\n    'ÁÜäËä≥',\n    'Áü≥Âàö',\n    'Èí±‰∏Ω',\n    'Ê±™ÁßÄÂÖ∞',\n    'ÈÉ≠Âãá',\n    'ËåÉÁßÄÂÖ∞',\n    'Ëë£Ê∂õ',\n    'Êñá‰∏Ω',\n    'Âè∂Â®ú',\n    'Áß¶‰∏Ω',\n    '‰ΩïÈúû',\n    '‰ΩïÊòé',\n    'ÂßúËâ≥',\n    'ÂÜØÂãá',\n    'ÂêïÂàö',\n    '‰∏á‰ºü',\n    'Ê≠¶Âπ≥',\n    'ÈÉ≠‰∏Ω',\n    'ËµñÊ∂õ',\n    'ÊñπÊ∂õ',\n    'ÈªÑ‰∏Ω',\n    'ËãèÁßÄËã±',\n    'ÊùúÈúû',\n    'ÂªñÁßÄÂÖ∞',\n    'È´òÊ∂õ',\n    'ËíãÊòé',\n    'ÊõπÂàö',\n    'ÈæôËâ≥',\n    'ÂÆãÂπ≥',\n    'ÈÇµÊïè',\n    'ÂªñËä≥',\n    'Êù®Â®ü',\n    'Áî∞Á£ä',\n    'Âê¥ÂÜõ',\n    'ÁΩóÂ®ü',\n    'Âç¢Ê∂õ',\n    '‰ΩôÂãá',\n    'ÈæöÂÜõ',\n    'ÈÉ≠‰∏Ω',\n    'ÂßöÂÜõ',\n    'Èü©ÂÜõ',\n    'ÊõæÂãá',\n    'Èî∫Âàö',\n    'Á®ãÈùô',\n    'ÈÇìÂ®ú',\n    'È°æÈúû',\n  ];\n  const [dataSource, setDataSource] = useState<string[]>(DATA);\n\n  const ref = usePullToRefresh<HTMLDivElement>(\n    () =>\n      new Promise((resolve) => {\n        setTimeout(() => {\n          setDataSource(DATA.slice(Math.random() * (DATA.length - 1)));\n          resolve();\n        }, 3000);\n      }),\n  );\n\n  return (\n    <div ref={ref} style={{ background: '#ffffff' }}>\n      {dataSource.map((it, idx) => (\n        <div key={`item_${idx}`} style={{ height: 44, lineHeight: 44, borderBottom: '1px solid #dcdcdc' }}>\n          {it}\n        </div>\n      ))}\n    </div>\n  );\n});\n"),__ADDS_MAP__={"hooks-usepulltorefresh--demo":{startLoc:{col:48,line:5},endLoc:{col:1,line:129},startBody:{col:56,line:5},endBody:{col:1,line:129}}};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_15__.storiesOf)("Hooks|usePullToRefresh",module).addParameters({storySource:{source:__STORY__,locationsMap:__ADDS_MAP__}}).addDecorator(withSourceLoader(__STORY__,__ADDS_MAP__,"/usePullToRefresh.stories.tsx",[],{},"/home/travis/build/xuyuanxiang/react-hooks-pull-to-refresh/stories",{})).add("Demo",(function App(){var DATA=["Èõ∑Êù∞","ÈªÑÂàö","ËñõÊ∂õ","ÈôàÂãá","ÂßöÊòé","ÈÉëÂãá","Êà¥Â®ú","ËêßÂãá","Á®ãÊ∂õ","ÂæêÂπ≥","Ë¥∫ÁßÄËã±","Â§èÊòé","ÈÇµÊ∂õ","ÁÜäÁßÄÂÖ∞","È≠èÁ£ä","‰æØÁßÄËã±","Êù®Ëä≥","ËñõÊù∞","ÂæêÊòé","ÊõæÊù∞","ÂæêÊ∂õ","Â∫∑Âº∫","Èôà‰∏Ω","‰ΩïËä≥","ÂªñÈùô","Ë∞≠Ë∂Ö","Ê±™Ê∂õ","ÈÇµÊù∞","Â¥î‰∏Ω","‰∫éÊïè","Èü©Èúû","‰Ωï‰ºü","Âê¥Âπ≥","Ë¥æÂãá","ÁôΩÊòé","ËñõËâ≥","Â§èÊ°ÇËã±","Áî∞‰∏Ω","Â∞πÊù∞","‰πîÂÜõ","ËµñÊòé","ËµñÂ®ú","ÂÆãÊïè","‰ªªÂº∫","‰∏áÂº∫","ËµµÁßÄËã±","ËÆ∏‰∏Ω","‰πîÈùô","Èí±‰ºü","ÈôàËä≥","ÈÉ≠Âº∫","È©¨Á£ä","Âç¢Ëâ≥","ÂÇÖÁßÄÂÖ∞","ÁÜäËä≥","Áü≥Âàö","Èí±‰∏Ω","Ê±™ÁßÄÂÖ∞","ÈÉ≠Âãá","ËåÉÁßÄÂÖ∞","Ëë£Ê∂õ","Êñá‰∏Ω","Âè∂Â®ú","Áß¶‰∏Ω","‰ΩïÈúû","‰ΩïÊòé","ÂßúËâ≥","ÂÜØÂãá","ÂêïÂàö","‰∏á‰ºü","Ê≠¶Âπ≥","ÈÉ≠‰∏Ω","ËµñÊ∂õ","ÊñπÊ∂õ","ÈªÑ‰∏Ω","ËãèÁßÄËã±","ÊùúÈúû","ÂªñÁßÄÂÖ∞","È´òÊ∂õ","ËíãÊòé","ÊõπÂàö","ÈæôËâ≥","ÂÆãÂπ≥","ÈÇµÊïè","ÂªñËä≥","Êù®Â®ü","Áî∞Á£ä","Âê¥ÂÜõ","ÁΩóÂ®ü","Âç¢Ê∂õ","‰ΩôÂãá","ÈæöÂÜõ","ÈÉ≠‰∏Ω","ÂßöÂÜõ","Èü©ÂÜõ","ÊõæÂãá","Èî∫Âàö","Á®ãÈùô","ÈÇìÂ®ú","È°æÈúû"],_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)(DATA),2),dataSource=_useState2[0],setDataSource=_useState2[1],ref=Object(_src__WEBPACK_IMPORTED_MODULE_16__.a)((function(){return new Promise((function(resolve){setTimeout((function(){setDataSource(DATA.slice(Math.random()*(DATA.length-1))),resolve()}),3e3)}))}));return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{ref:ref,style:{background:"#ffffff"}},dataSource.map((function(it,idx){return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{key:"item_".concat(idx),style:{height:44,lineHeight:44,borderBottom:"1px solid #dcdcdc"}},it)})))}))}.call(this,__webpack_require__(128)(module))},1284:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return usePullToRefresh}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),react_dom=__webpack_require__(54),react_dom_default=__webpack_require__.n(react_dom),lodash_throttle=__webpack_require__(150),lodash_throttle_default=__webpack_require__.n(lodash_throttle),RefreshState=__webpack_require__(13);function toFixed(value,precision){var multiplier=Math.pow(10,precision+1),wholeNumber=Math.floor(value*multiplier);return 10*Math.round(wholeNumber/10)/multiplier}function debounceTimingFn(k){return(k/=1)<1/2.75?7.5625*k*k:k<2/2.75?7.5625*(k-=1.5/2.75)*k+.75:k<2.5/2.75?7.5625*(k-=2.25/2.75)*k+.9375:7.5625*(k-=2.625/2.75)*k+.984375}try{debounceTimingFn.displayName="debounceTimingFn",debounceTimingFn.__docgenInfo={description:"",displayName:"debounceTimingFn",props:{toString:{defaultValue:null,description:"Returns a string representation of an object.\n@param radix Specifies a radix for converting numeric values to strings. This value is only used for numbers.",name:"toString",required:!1,type:{name:"(radix?: number) => string"}},toFixed:{defaultValue:null,description:"Returns a string representing a number in fixed-point notation.\n@param fractionDigits Number of digits after the decimal point. Must be in the range 0 - 20, inclusive.",name:"toFixed",required:!0,type:{name:"(fractionDigits?: number) => string"}},toExponential:{defaultValue:null,description:"Returns a string containing a number represented in exponential notation.\n@param fractionDigits Number of digits after the decimal point. Must be in the range 0 - 20, inclusive.",name:"toExponential",required:!0,type:{name:"(fractionDigits?: number) => string"}},toPrecision:{defaultValue:null,description:"Returns a string containing a number represented either in exponential or fixed-point notation with a specified number of digits.\n@param precision Number of significant digits. Must be in the range 1 - 21, inclusive.",name:"toPrecision",required:!0,type:{name:"(precision?: number) => string"}},valueOf:{defaultValue:null,description:"Returns the primitive value of the specified object.",name:"valueOf",required:!1,type:{name:"() => number"}},toLocaleString:{defaultValue:null,description:"Converts a number to a string by using the current or specified locale.\n@param locales A locale string or array of locale strings that contain one or more language or locale tags. If you include more than one locale string, list them in descending order of priority so that the first entry is the preferred locale. If you omit this parameter, the default locale of the JavaScript runtime is used.\n@param options An object that contains one or more properties that specify comparison options.",name:"toLocaleString",required:!1,type:{name:"(locales?: string | string[], options?: NumberFormatOptions) => string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/debounceTimingFn.ts#debounceTimingFn"]={docgenInfo:debounceTimingFn.__docgenInfo,name:"debounceTimingFn",path:"src/debounceTimingFn.ts#debounceTimingFn"})}catch(__react_docgen_typescript_loader_error){}function rAF(fn){if("undefined"!=typeof window){if("function"==typeof window.requestAnimationFrame)return window.requestAnimationFrame(fn);if("function"==typeof window.webkitRequestAnimationFrame)return window.webkitRequestAnimationFrame(fn)}return"function"==typeof fn&&fn(-1),-1}try{rAF.displayName="rAF",rAF.__docgenInfo={description:"",displayName:"rAF",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/rAF.ts#rAF"]={docgenInfo:rAF.__docgenInfo,name:"rAF",path:"src/rAF.ts#rAF"})}catch(__react_docgen_typescript_loader_error){}var RefreshControl=__webpack_require__(69),RefreshControlContext=__webpack_require__(46),DEFAULTS={threshold:50,throttle:150,refreshControl:react_default.a.createElement(RefreshControl.a,null)};function usePullToRefresh(onRefresh){var refresherRoot,_ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:DEFAULTS,_ref$threshold=_ref.threshold,threshold=void 0===_ref$threshold?DEFAULTS.threshold:_ref$threshold,_ref$throttle=_ref.throttle,throttle=void 0===_ref$throttle?DEFAULTS.throttle:_ref$throttle,_ref$refreshControl=_ref.refreshControl,refreshControl=void 0===_ref$refreshControl?DEFAULTS.refreshControl:_ref$refreshControl,deps=arguments.length>2?arguments[2]:void 0,containerRef=Object(react.useRef)(null);function getScrollTop(){if(deps&&"number"==typeof deps[0])return deps[0];for(var ele=containerRef.current;ele;){if(ele.scrollTop)return ele.scrollTop;ele=ele.parentElement}return 0}function transformY(y){if(containerRef.current)if("number"==typeof y){var value=toFixed(y,2);containerRef.current.style.transform="translateY(".concat(value,"px)"),containerRef.current.style.webkitTransform="translateY(".concat(value,"px)")}else containerRef.current.style.transform="translateY(".concat(y,")"),containerRef.current.style.webkitTransform="translateY(".concat(y,")")}function debounceAnimate(startY,destY,duration){var startTime=Date.now(),endTime=startTime+duration,isAnimating=!0;containerRef.current&&(containerRef.current.style.transition="transform ".concat(duration,"ms cubic-bezier(0.25, 0.46, 0.45, 0.94)"),containerRef.current.style.webkitTransition="transform ".concat(duration,"ms cubic-bezier(0.25, 0.46, 0.45, 0.94)")),function step(){var now=Date.now();if(now>=endTime)return isAnimating=!1,void transformY(destY);var easing=debounceTimingFn(now=(now-startTime)/duration);transformY((destY-startY)*easing+startY),isAnimating&&rAF(step)}()}return Object(react.useLayoutEffect)((function(){var originTransform,originWebkitTransform,originTransition,originWebkitTransition,scrollTop=getScrollTop(),start=0,distance=0,destY=0,state=null;if(containerRef.current){var style=getComputedStyle(containerRef.current);originTransform=style.transform,originWebkitTransform=style.webkitTransform,originTransition=style.transition,originWebkitTransition=style.webkitTransition}function handleGestureStart(event){if(state!==RefreshState.a.REFRESHING){if(scrollTop=getScrollTop(),"touchstart"===event.type){var touch=event.touches[0];start=touch?touch.clientY:0}else start=event.clientY||0;state=RefreshState.a.INITIALIZING}}var handleGestureMove=lodash_throttle_default()((function(event){if(refresherRoot&&0===scrollTop){if("touchmove"===event.type){var touch=event.touches[0];if(!touch)return;distance=touch.clientY-start}else distance=(event.clientY||0)-start;if(state===RefreshState.a.INITIALIZING&&distance>0&&(transformY("-100%"),react_dom_default.a.render(react_default.a.createElement(RefreshControlContext.b,{value:{state:RefreshState.a.DID_MOUNT}},refreshControl),refresherRoot,(function(){state=RefreshState.a.DID_MOUNT}))),state===RefreshState.a.DID_MOUNT)debounceAnimate(destY,destY+=distance,throttle),destY>=threshold&&(react_dom_default.a.unmountComponentAtNode(refresherRoot),react_dom_default.a.render(react_default.a.createElement(RefreshControlContext.b,{value:{state:RefreshState.a.WILL_REFRESH}},refreshControl),refresherRoot,(function(){state=RefreshState.a.WILL_REFRESH})))}}),throttle);function disableBodyMove(event){switch(state){case RefreshState.a.DID_MOUNT:case RefreshState.a.WILL_REFRESH:case RefreshState.a.REFRESHING:event.preventDefault()}}function handleGestureEnd(){if(start=0,distance=0,scrollTop=getScrollTop(),refresherRoot&&(react_dom_default.a.unmountComponentAtNode(refresherRoot),state===RefreshState.a.WILL_REFRESH))return debounceAnimate(destY,0,throttle),void react_dom_default.a.render(react_default.a.createElement(RefreshControlContext.b,{value:{state:RefreshState.a.REFRESHING}},refreshControl),refresherRoot,(function(){if(state=RefreshState.a.REFRESHING,"function"==typeof onRefresh){var promiseLike=onRefresh();if(promiseLike&&"function"==typeof promiseLike.then){var teardown=function teardown(){containerRef.current&&(containerRef.current.style.transform=originTransform,containerRef.current.style.webkitTransform=originWebkitTransform,containerRef.current.style.transition=originTransition,containerRef.current.style.webkitTransition=originWebkitTransition),refresherRoot&&react_dom_default.a.unmountComponentAtNode(refresherRoot),state=RefreshState.a.DID_REFRESH};promiseLike.then(teardown,teardown)}}}));state=null}return containerRef.current&&(containerRef.current.addEventListener("touchstart",handleGestureStart,{passive:!0}),containerRef.current.addEventListener("touchmove",handleGestureMove,{passive:!0}),containerRef.current.addEventListener("touchend",handleGestureEnd,{passive:!0}),containerRef.current.addEventListener("mousedown",handleGestureStart,{passive:!0}),containerRef.current.addEventListener("mousemove",handleGestureMove,{passive:!0}),containerRef.current.addEventListener("mouseup",handleGestureEnd,{passive:!0}),document.body.addEventListener("touchmove",disableBodyMove,{passive:!1}),refresherRoot||(refresherRoot=document.createElement("div")),containerRef.current.firstChild?containerRef.current.insertBefore(refresherRoot,containerRef.current.firstChild):containerRef.current.appendChild(refresherRoot)),function(){containerRef.current&&(containerRef.current.removeEventListener("touchmove",handleGestureMove),containerRef.current.removeEventListener("touchstart",handleGestureStart),containerRef.current.removeEventListener("touchend",handleGestureEnd),containerRef.current.removeEventListener("mousedown",handleGestureMove),containerRef.current.removeEventListener("mousemove",handleGestureStart),containerRef.current.removeEventListener("mouseup",handleGestureEnd),containerRef.current.style.transform=originTransform,containerRef.current.style.webkitTransform=originWebkitTransform,containerRef.current.style.transition=originTransition,containerRef.current.style.webkitTransition=originWebkitTransition),refresherRoot&&(react_dom_default.a.unmountComponentAtNode(refresherRoot),refresherRoot.parentElement&&refresherRoot.parentElement.removeChild(refresherRoot)),document.body.removeEventListener("touchmove",disableBodyMove)}}),deps),containerRef}},13:function(module,__webpack_exports__,__webpack_require__){"use strict";var RefreshState;__webpack_require__.d(__webpack_exports__,"a",(function(){return RefreshState})),function(RefreshState){RefreshState.INITIALIZING="INITIALIZING",RefreshState.DID_MOUNT="DID_MOUNT",RefreshState.WILL_REFRESH="WILL_REFRESH",RefreshState.REFRESHING="REFRESHING",RefreshState.DID_REFRESH="DID_REFRESH"}(RefreshState||(RefreshState={}))},450:function(module,exports,__webpack_require__){__webpack_require__(451),__webpack_require__(593),module.exports=__webpack_require__(594)},46:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return RefreshControlProvider})),__webpack_require__.d(__webpack_exports__,"a",(function(){return RefreshControlConsumer}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_RefreshState__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(13),RefreshControlContext=Object(react__WEBPACK_IMPORTED_MODULE_0__.createContext)({state:_RefreshState__WEBPACK_IMPORTED_MODULE_1__.a.INITIALIZING});RefreshControlContext.displayName="RefreshControlContext";var RefreshControlProvider=RefreshControlContext.Provider,RefreshControlConsumer=RefreshControlContext.Consumer;try{RefreshControlProvider.displayName="RefreshControlProvider",RefreshControlProvider.__docgenInfo={description:"",displayName:"RefreshControlProvider",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"IRefreshContext"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/RefreshControlContext.ts#RefreshControlProvider"]={docgenInfo:RefreshControlProvider.__docgenInfo,name:"RefreshControlProvider",path:"src/RefreshControlContext.ts#RefreshControlProvider"})}catch(__react_docgen_typescript_loader_error){}try{RefreshControlConsumer.displayName="RefreshControlConsumer",RefreshControlConsumer.__docgenInfo={description:"",displayName:"RefreshControlConsumer",props:{unstable_observedBits:{defaultValue:null,description:"",name:"unstable_observedBits",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/RefreshControlContext.ts#RefreshControlConsumer"]={docgenInfo:RefreshControlConsumer.__docgenInfo,name:"RefreshControlConsumer",path:"src/RefreshControlContext.ts#RefreshControlConsumer"})}catch(__react_docgen_typescript_loader_error){}},513:function(module,exports){},594:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(1),__webpack_require__(42),__webpack_require__(35),__webpack_require__(163),__webpack_require__(164),__webpack_require__(3),__webpack_require__(38);var _storybook_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(59),_storybook_addon_viewport__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(436),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(60);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object(_storybook_react__WEBPACK_IMPORTED_MODULE_7__.addParameters)({options:{storySort:function(a,b){return a[1].kind===b[1].kind?0:a[1].id.localeCompare(b[1].id,{numeric:!0})}},docs:{container:_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_9__.DocsContainer,page:_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_9__.DocsPage},viewport:{defaultViewport:"iphone6",viewports:function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}({},_storybook_addon_viewport__WEBPACK_IMPORTED_MODULE_8__.INITIAL_VIEWPORTS,{responsive:{name:"Responsive",styles:{width:"100%",height:"100%"},type:"mobile"}})}}),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_7__.configure)([__webpack_require__(1269),__webpack_require__(1272)],module)}.call(this,__webpack_require__(128)(module))},69:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return RefreshControl}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),styled_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(151),_RefreshState__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(13),_Indicator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(117),_RefreshControlContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(46),Wrapper=styled_components__WEBPACK_IMPORTED_MODULE_1__.a.div.withConfig({displayName:"RefreshControl__Wrapper",componentId:"m57r-0"})(["background-color:#f6f6f6;text-align:center;padding:32px;"]);function RefreshControl(_ref){var _ref$hint=_ref.hint,hint=void 0===_ref$hint?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"‰∏ãÊãâÂèØ‰ª•Âà∑Êñ∞"):_ref$hint,_ref$edge=_ref.edge,edge=void 0===_ref$edge?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"ÈáäÊîæÂêéÂà∑Êñ∞"):_ref$edge,_ref$indicator=_ref.indicator,indicator=void 0===_ref$indicator?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Indicator__WEBPACK_IMPORTED_MODULE_3__.a,null):_ref$indicator;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_RefreshControlContext__WEBPACK_IMPORTED_MODULE_4__.a,null,(function(_ref2){var state=_ref2.state;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Wrapper,null,state===_RefreshState__WEBPACK_IMPORTED_MODULE_2__.a.DID_MOUNT&&hint,state===_RefreshState__WEBPACK_IMPORTED_MODULE_2__.a.WILL_REFRESH&&edge,state===_RefreshState__WEBPACK_IMPORTED_MODULE_2__.a.REFRESHING&&indicator)}))}try{RefreshControl.displayName="RefreshControl",RefreshControl.__docgenInfo={description:"",displayName:"RefreshControl",props:{hint:{defaultValue:{value:"<p>‰∏ãÊãâÂèØ‰ª•Âà∑Êñ∞</p>"},description:"ËßÜÂõæÊªöÂä®Âà∞È°∂ÈÉ®ÂêéÔºåÁªßÁª≠‰∏ãÊãâÊòæÁ§∫hintÔºåÁº∫ÁúÅÂÄºÔºö<p>‰∏ãÊãâÂèØ‰ª•Âà∑Êñ∞</p>",name:"hint",required:!1,type:{name:"ReactNode"}},edge:{defaultValue:{value:"<p>ÈáäÊîæÂêéÂà∑Êñ∞</p>"},description:"Â∑≤ÁªèÊòæÁ§∫hintÂêéÔºåÁªßÁª≠‰∏ãÊãâthresholdÂ±ûÊÄßÊâÄ‰º†Ë∑ùÁ¶ªÂêéÊòæÁ§∫edgeÔºåÁº∫ÁúÅÂÄºÔºö<p>ÈáäÊîæÂêéÂà∑Êñ∞</p>",name:"edge",required:!1,type:{name:"ReactNode"}},indicator:{defaultValue:{value:"<Indicator />"},description:"Áî®Êà∑ÈáäÊîæÂêéÔºåonRefreshËøîÂõûÁªìÊûúÂâçÊòæÁ§∫indicatorÔºåÁº∫ÁúÅÂÄºÔºö<p>Ê≠£Âú®Âà∑Êñ∞...</p>",name:"indicator",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/RefreshControl.tsx#RefreshControl"]={docgenInfo:RefreshControl.__docgenInfo,name:"RefreshControl",path:"src/RefreshControl.tsx#RefreshControl"})}catch(__react_docgen_typescript_loader_error){}}},[[450,1,2]]]);
//# sourceMappingURL=main.50c4b1b8eaa2ed013643.bundle.js.map